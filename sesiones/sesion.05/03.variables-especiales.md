# ðŸ§­ SesiÃ³n 5 Â· Punto 3 â€” Uso de `if __name__ == "__main__":`

## ðŸŽ¯ Objetivos especÃ­ficos

* Comprender quÃ© significa la variable especial `__name__` en Python.
* Diferenciar entre la **ejecuciÃ³n directa** de un mÃ³dulo y su **importaciÃ³n**.
* Usar `if __name__ == "__main__":` como punto de entrada controlado.
* Integrar este patrÃ³n en proyectos modulares.

---

## ðŸ“š Resumen teÃ³rico-prÃ¡ctico

### ðŸ”¹ La variable especial `__name__`

* Cada mÃ³dulo en Python tiene un atributo `__name__`.
* Si el archivo se ejecuta directamente:

  ```python
  python script.py
  ```

  entonces `__name__ == "__main__"`.
* Si el archivo se importa como mÃ³dulo:

  ```python
  import script
  ```

  entonces `__name__ == "script"`.

---

### ðŸ”¹ PatrÃ³n recomendado

```python
def main():
    print("Ejecutando script como programa principal")

if __name__ == "__main__":
    main()
```

Ventajas:

* Permite **ejecutar** el archivo como programa independiente.
* Permite **importar** sus funciones en otros mÃ³dulos sin ejecutar la parte de demo.

---

### ðŸ”¹ Ejemplo 1: script simple

**utilidades.py**

```python
def suma(a, b):
    return a + b

if __name__ == "__main__":
    # Solo se ejecuta si lanzamos: python utilidades.py
    print("Prueba rÃ¡pida:", suma(3, 4))
```

Uso:

```bash
$ python utilidades.py
Prueba rÃ¡pida: 7

$ python
>>> import utilidades
>>> utilidades.suma(5, 6)
11
```

ðŸ‘‰ Al importar, **no se ejecuta** el bloque bajo `if __name__ == "__main__":`.

---

### ðŸ”¹ Ejemplo 2: proyecto modular

**app/modelos.py**

```python
class Usuario:
    def __init__(self, nombre):
        self.nombre = nombre

    def __str__(self):
        return f"Usuario: {self.nombre}"
```

**main.py**

```python
from app.modelos import Usuario

def main():
    u = Usuario("Ana")
    print(u)

if __name__ == "__main__":
    main()
```

EjecuciÃ³n directa:

```bash
python main.py
# Usuario: Ana
```

ImportaciÃ³n (desde otro mÃ³dulo o test):

```python
from main import main
main()
```

---

### ðŸ”¹ Ejemplo 3: CLI mÃ­nima

Se puede combinar con `argparse` para tener argumentos de lÃ­nea de comandos:

```python
import argparse
from app.modelos import Usuario

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument("nombre", help="Nombre del usuario")
    args = parser.parse_args()

    u = Usuario(args.nombre)
    print("Usuario creado:", u)

if __name__ == "__main__":
    main()
```

Uso:

```bash
python main.py Ana
Usuario creado: Usuario: Ana
```

---

## ðŸ§© Mini-ejercicios rÃ¡pidos

1. Crea un archivo `operaciones.py` con una funciÃ³n `multiplicar(a, b)`.

   * Al ejecutarlo directamente, prueba la funciÃ³n con `3*4`.
   * Al importarlo en Python interactivo, deberÃ­a estar disponible sin ejecutar la prueba.
2. En el proyecto de **usuarios**, aÃ±ade una funciÃ³n `main()` en `main.py` que cree un `Admin` y lo imprima. ProtÃ©gelo con `if __name__ == "__main__":`.
3. Haz que `main.py` acepte un argumento `--rol` para instanciar un `Usuario` como `admin` o `moderador`.

---

## âœ… Checklist de dominio

* [ ] Â¿Entiendo cuÃ¡ndo `__name__` vale `"__main__"` y cuÃ¡ndo vale el nombre del mÃ³dulo?
* [ ] Â¿SÃ© proteger un bloque de pruebas para que no se ejecute al importar?
* [ ] Â¿Puedo usar `if __name__ == "__main__":` para construir un CLI simple?
* [ ] Â¿SÃ© integrar este patrÃ³n en un proyecto modular?